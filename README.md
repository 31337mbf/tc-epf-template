# tc-epf-template

Шаблон тестовой обработки для 1С:Тест-центр и Vanessa Automation

## Включение замеров

В репозитории содержится файл Замеры.feature, в котором представлены сценарии для начала и окончания замеров времени через подсистему "Оценка производительности", входящую в состав БСП. 

Имя/ссылка на ключевую операцию берется из `КонтекстСохраняемый` Vanessa Automation. Самый простой способ поместить туда нужную ключевую операцию - использовать таблицу `Дополнительные параметры` в шаблоне роли "ТЦЗапускФичи". Имя параметра для получения ключевой операции по умолчанию - `КлючеваяОперация`.

В фичах замеров используется API БСП 3.0.

Для БСП 2.2 необходимо изменить вызов следующим образом:

Начало замера:

```feature
        Тогда я выполняю код встроенного языка
        | 'ОценкаПроизводительностиКлиентСервер.НачатьЗамерВремени(КонтекстСохраняемый.КлючеваяОперация);'         |
        | 'РегламентныеЗаданияСлужебныйКлиент.ОтключитьГлобальныйОбработчикОжидания("ЗакончитьЗамерВремениАвто");' |
```

Окончание замера:

```feature
        Тогда я выполняю код встроенного языка
        | 'ОценкаПроизводительностиКлиент.ЗакончитьЗамерВремениАвтоНеГлобальный();' |
        | 'ОценкаПроизводительностиКлиент.ЗаписатьРезультатыАвтоНеГлобальный();'    |
```
